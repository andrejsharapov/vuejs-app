Vue.component('site-counters', {
    props: [ 'count' ],
    template: `<div class="counter"><div class="counter_block" v-for="(c, index) in count" :key="index"><p class="counter__num">{{ c.num }}+</p><p class="counter__text"><span>{{ c.text }}</span> {{ c.span }}</p></div></div>`,
});

Vue.component('projects-list', {
    props: [ 'caselist', 'selected' ],
    template: `<div class="grid-projects"><template v-for="(cd, index) in caselist" :key="index"><div class="project"><p class="upper bold to">{{ cd.to }}</p><div style="position: relative; width: 100%;"><div @dblclick="$emit('select', cd)" :class="{ fullImage: selected === cd }" class="project-image" role="button"><template v-if="cd.img"><img :src="cd.img" loading='lazy' :alt="cd.caption"></template><template v-else><img src="/src/coming_soon.png" loading='lazy' alt="coming soon"></template></div></div><div class="project-about"><h4>{{ cd.projectName }}</h4><div class="grid column-two"><small class="text-ellipsis" :title="'Тип работ: ' + cd.type">{{ cd.type }}</small><template v-if="cd.cms"><small class="project-cms">CMS: <template v-for="(value, index) in (Array.isArray(cd.cms) ? cd.cms : [cd.cms])"><span class="tag">{{ value }}</span></template></small></template></div><template v-for="(p, index) in cd.task" :key="index"><template v-if="p.taskName"><p class="project-caption">{{ p.taskName }}</p></template><template v-else><p class="project-caption">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nemo illum repellendus harum magnam neque ipsam, rem saepe amet, quo eaque provident distinctio fugiat aliquid laboriosam quis modi.</p></template></template><p class="text-right"><span @click="$emit('select', cd)" class="launch launch-right"><span class="launch-label">Запуск</span></span></p></div></div></template></div>`
});

Vue.component('projects-selected', {
    props: [ 'cd' ],
    template: `<div id="projects-full" class="pr-full"><div class="pr-container"><div class="pr-bg"></div><div class="container"><div class="pr-close" role="button" @click="$emit('close')"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212.982 212.982" width="16" height="16"><path fill="#8d8d8d" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312 c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312 l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937 c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z" /></svg></div><div class="pr-content"><h3 class="pr-title">{{ cd.projectName }}</h3><div class="pr-website"><picture v-if="cd.logoJPG"><source :srcset="cd.logoWEBP" type="image/webp"><img :src="cd.logoJPG" loading='lazy' :alt="cd.siteName"></picture><p v-if="cd.siteURL"><span>Сайт:</span> <a :href="cd.siteURL" :title="cd.siteName" target="_blank" rel="noopener noreferrer">{{ cd.siteName }}</a></p><p><span>Дата:</span> {{ cd.date }}</p><p><span>Тип работ: </span><a href="/pricing" target="_blank" title="Тип работ">{{ cd.type }}</a></p></div><div class="pr-devs"><template v-for="(p, index) in cd.devs" :key="index"><details class="dt"><summary>{{ p.title }}</summary><ul class="dots"><template v-for="(value, index) in p.tags" :key="index"><li>{{ value }}</li></template></ul></details></template></div><div class="pr-role"><div class="role-grid"><div class="role-my"><h4>Роли</h4><ul class="dots"><template v-for="(m, index) in cd.role" :key="index"><li v-for="(value, index) in m.my" :key="index">{{ value }}</li></template></ul></div><div class="role-others" v-if="cd.role.some(el => el.other)"><h4>Другие</h4><ul class="dots"><template v-for="(o, index) in cd.role" :key="index"><li v-for="(value, index) in o.other" :key="index">{{ value }}</li></template></ul></div></div></div><h3 class="pr-stage"><span>01/</span> Клиент, задачи, проблемы и цели</h3><div class="pr-client"><div class="pr-image"><template v-for="(p, index) in cd.prev" :key="index"><div class="pr-prev"><template v-if="p.src"><iframe class='pr-src' :src="'//instagram.com/p/' + p.src + '/embed'" :height="p.height" frameborder='0' scrolling='no' allowtransparency='true'></iframe></template><template v-else><img src="/src/coming_soon.png" loading='lazy' alt="coming soon"></template></div></template></div><template v-if="cd.client"><div class="pr-about">
<h4>О клиенте</h4><p v-html="cd.client">{{ cd.client }}</p><template v-if="cd.issues">
<h4>Проблематика</h4><p>{{ cd.issues }}</p></template></div></template><div class="pr-tasks" v-for="(p, index) in cd.task" :key="index"><h4>Задачи</h4><p>{{ p.taskName }}</p><ul class="dots"><template v-for="(value, index) in p.list" :key="index"><li>{{ value }}</li></template></ul></div></div><h3 class="pr-stage"><span>02/</span> Реализация кейса и поиск решения</h3><div class="pr-done"><h4>В ходе работы</h4><ul class="dots tooltips"><template v-for="(value, index) in cd.done" :key="index"><li v-html="value"></li></template></ul></div><div class="pr-palette">
<h4>Фирменные цвета</h4><ul class="pr-colors"><template v-for="(p, index) in cd.colors" :key="index"><li class="pr-col"><span class="palette_name">{{ p.name }}</span><span class="palette" :style="'background-color: #' + p.color"></span><span v-if="p.coltwo" class="palette palette_add" :style="'background-color: #' + p.coltwo"></span><span class="pr-col-val"><span class="pr-hex">HEX</span> #{{ p.color }}<slot v-if="p.coltwo"><span class="pr-hex_add"><span class="pr-hex">HEX</span> #{{ p.coltwo }}</span></slot></li></template></ul></div><div class="pr-typography"><h4>Типографика</h4><template v-for="(p, index) in cd.typography" :key="index"><span v-html="p.fonts"></span><div class="t-content"><div class="t-head text-center"><div class="flex aife jcc"><p class="t-for"><strong>Для заголовков</strong></p><div><p class="t-size" :style="'font-family:' + p.glob">Aa</p><p>{{ p.glob }}</p></div></div></div><div class="t-text text-center"><div class="flex aife jcc"><p class="t-for"><strong>Для основного текста</strong></p><div><p class="t-size" :style="'font-family:' + p.text">Aa</p><p>{{ p.text }}</p></div></div></div></div></template></div>
<template v-if="cd.webdev === true"><h3 class="pr-stage"><span>03/</span> Запуск, тестирование, анализ эффективности</h3><div class="pr-endworks"><div class="pr-analytics"><h4>Веб-аналитика</h4><template v-for="(p, index) in cd.analytics" :key="index"><p><strong>Результат:</strong> <template v-if="p.result">{{ p.result }}</template><template v-else>Опыт разработки. Сайт не продвигался</template></p><template v-if="p.img"><img :src="p.img" loading='lazy' :alt="p.result"></template><template v-else><img src="/src/coming_soon.png" loading='lazy' alt="coming soon"></template></template></div><div class="pr-responsive"><h4>Оптимизация ресурса</h4><template v-for="(p, index) in cd.responsive" :key="index"><p><strong>Удобство для пользователей:</strong> <strong style="color: #49a12f"><slot v-if="p.percent">{{ p.percent }}</slot><slot v-else>0</slot> / 100</strong></p><template v-if="p.percent"><div class="chart" title="Оптимизация сайта для современных мобильных устройств" style="cursor: help;"><svg class="percent" viewBox="0 0 42 42" fill="none"><circle cx="21" cy="21" r="15.91549430918954" fill="#fff"></circle><text class="svgtxt" fill="#49a12f" x="21" y="26" font-size="14px" font-family="Arial"><tspan text-anchor="middle">{{ p.percent }}</tspan></text><circle cx="21" cy="21" r="15.91549430918954" stroke="#bfc3c6" stroke-width="5"></circle><circle cx="21" cy="21" r="15.91549430918954" stroke="#49a12f" stroke-width="5" :stroke-dasharray="p.dash" stroke-dashoffset="25"></circle></svg></div></template><template v-else><img src="/src/coming_soon.png" loading='lazy' alt="coming soon"></template></template></div></div></template>
<template v-if="cd.tms === true"><div class="pr-testimonials"><h4>Отзыв</h4><div class="t-content"><template v-for="(t, index) in cd.testimonials" :key="index"><template v-if="t.img"><img :src="t.img" loading='lazy' alt=""></template><template v-else><img src="/src/coming_soon.png" loading='lazy' alt="coming soon"></template><div class="t-text"><template v-for="(a, index) in t.author" :key="index"><h4>{{ a.name }}</h4><p class="lead">{{ a.position }}</p><blockquote v-if="a.text" v-html="a.text"></blockquote></template></div></template></div></div></template><div class="pr-deadline"><h4>Deadline</h4><p>{{ cd.deadline }}</p></div></div></div></div></div>`,
});